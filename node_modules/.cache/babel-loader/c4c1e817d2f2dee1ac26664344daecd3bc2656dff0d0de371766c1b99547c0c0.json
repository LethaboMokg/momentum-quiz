{"ast":null,"code":"var _jsxFileName = \"/home/lethabo/Videos/Momentum project/new 111111/Quiz-Demo/src/Pages/Quiz.js\",\n  _s = $RefreshSig$();\nimport \"./Quiz.css\";\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase, ref, set, get, child, DataSnapshot } from \"firebase/database\";\nimport firebase from './firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet form = {};\nlet quizAnswers = {};\n\n//saves form info\nfunction handleChange(e) {\n  const {\n    id,\n    value\n  } = e.target;\n  form[id] = value;\n}\nfunction saveUserData(score) {\n  const uid = getAuth().currentUser.uid;\n  const db = getDatabase();\n  console.log(quizAnswers);\n  set(ref(db, `QuizData/${uid}/answers/`), quizAnswers);\n  // \n  // \n  set(ref(db, `QuizData/${uid}/quizScore/`), {\n    \"score\": score\n  });\n\n  // set(\n  // \tref(db, `Users/${uid}/`),\n  // \t{\n  // \t\t\"name\": userName\n  // \t}\n  // );\n}\n\nfunction Quiz() {\n  _s();\n  let currentQuiz = 0;\n\n  // console.log(getAuth().currentUser.uid)\"\"\n\n  // let currentQuestion = \"Current questions\"\n  // const uid = getAuth().currentUser.uid;\n\n  const dbRef = ref(getDatabase());\n  const [error, setError] = useState(false);\n  const [state, setState] = useState('');\n  // const [score, setScore] = useState('');\n\n  useEffect(() => {\n    const uid = getAuth().currentUser.uid;\n    setState(\"loading\");\n    get(child(dbRef, `QuizData/${uid}/quizScore/`)).then(snapshot => {\n      if (snapshot.val() !== null) {\n        setState('user exists');\n        setScore(snapshot.val().score);\n      } else {\n        setState('success');\n      }\n    }).catch(err => {\n      console.error('Error:', err);\n      setState('error');\n      setError(err);\n    });\n  }, []); //\n\n  if (state === \"error\") {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }, this);\n  } else {\n    if (state === 'user exists') {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You already completed a quiz, your previous score was \", score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 12\n      }, this);\n    } else {}\n  }\n  eslint - disable - next - line;\n}\n_s(Quiz, \"v2ouDPKvOebfAIxRpdsFCbHS/Ws=\");\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","getAuth","getDatabase","ref","set","get","child","DataSnapshot","firebase","form","quizAnswers","handleChange","e","id","value","target","saveUserData","score","uid","currentUser","db","console","log","Quiz","currentQuiz","dbRef","error","setError","state","setState","then","snapshot","val","setScore","catch","err","eslint","disable","next","line"],"sources":["/home/lethabo/Videos/Momentum project/new 111111/Quiz-Demo/src/Pages/Quiz.js"],"sourcesContent":["import \"./Quiz.css\"\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from \"react-router-dom\"\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase, ref, set, get, child, DataSnapshot } from \"firebase/database\";\nimport firebase from './firebase'\n\n\nlet form = {}\nlet quizAnswers = {}\n\n\n//saves form info\nfunction handleChange(e) {\n\tconst { id, value } = e.target\n\n\tform[id] = value;\n}\n\n\nfunction saveUserData(score) {\n\tconst uid = getAuth().currentUser.uid;\n\tconst db = getDatabase()\n\tconsole.log(quizAnswers)\n\tset(\n\t\tref(db, `QuizData/${uid}/answers/`),\n\t\tquizAnswers\n\t);\n\t// \n\t// \n\tset(\n\t\tref(db, `QuizData/${uid}/quizScore/`),\n\t\t{\n\t\t\t\"score\": score\n\t\t}\n\t);\n\n\t// set(\n\t// \tref(db, `Users/${uid}/`),\n\t// \t{\n\t// \t\t\"name\": userName\n\t// \t}\n\t// );\n\n}\n\nfunction Quiz() {\n\n\tlet currentQuiz = 0;\n\n\t// console.log(getAuth().currentUser.uid)\"\"\n\n\t// let currentQuestion = \"Current questions\"\n\t// const uid = getAuth().currentUser.uid;\n\n\n\tconst dbRef = ref(getDatabase())\n\n\n\tconst [error, setError] = useState(false)\n\tconst [state, setState] = useState('');\n\t// const [score, setScore] = useState('');\n\n\n\tuseEffect(() => {\n\t\tconst uid = getAuth().currentUser.uid;\n\t\tsetState(\"loading\")\n\t\tget(child(dbRef, `QuizData/${uid}/quizScore/`))\n\t\t\t.then((snapshot) => {\n\t\t\t\tif (snapshot.val() !== null) {\n\t\t\t\t\tsetState('user exists')\n\t\t\t\t\tsetScore(snapshot.val().score)\n\t\t\t\t} else {\n\t\t\t\t\tsetState('success');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error('Error:', err);\n\t\t\t\tsetState('error');\n\t\t\t\tsetError(err);\n\t\t\t})\n\t}, []);//\n\t\n\tif (state === \"error\") {\n\t\treturn (<p>Error</p>);\n\t} else {\n\t\tif (state === 'user exists') {\n\t\t\treturn (<p>You already completed a quiz, your previous score was {score}</p>);\n\t\t} else {\n\t\t\t\n\t\t}\n\t}\n\t\teslint-disable-next-line\n\n\n\t\n\n\n}\n\nexport default Quiz;"],"mappings":";;AAAA,OAAO,YAAY;AACnB,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,WAAW,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,KAAK,EAAEC,YAAY,QAAQ,mBAAmB;AACnF,OAAOC,QAAQ,MAAM,YAAY;AAAA;AAGjC,IAAIC,IAAI,GAAG,CAAC,CAAC;AACb,IAAIC,WAAW,GAAG,CAAC,CAAC;;AAGpB;AACA,SAASC,YAAY,CAACC,CAAC,EAAE;EACxB,MAAM;IAAEC,EAAE;IAAEC;EAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;EAE9BN,IAAI,CAACI,EAAE,CAAC,GAAGC,KAAK;AACjB;AAGA,SAASE,YAAY,CAACC,KAAK,EAAE;EAC5B,MAAMC,GAAG,GAAGjB,OAAO,EAAE,CAACkB,WAAW,CAACD,GAAG;EACrC,MAAME,EAAE,GAAGlB,WAAW,EAAE;EACxBmB,OAAO,CAACC,GAAG,CAACZ,WAAW,CAAC;EACxBN,GAAG,CACFD,GAAG,CAACiB,EAAE,EAAG,YAAWF,GAAI,WAAU,CAAC,EACnCR,WAAW,CACX;EACD;EACA;EACAN,GAAG,CACFD,GAAG,CAACiB,EAAE,EAAG,YAAWF,GAAI,aAAY,CAAC,EACrC;IACC,OAAO,EAAED;EACV,CAAC,CACD;;EAED;EACA;EACA;EACA;EACA;EACA;AAED;;AAEA,SAASM,IAAI,GAAG;EAAA;EAEf,IAAIC,WAAW,GAAG,CAAC;;EAEnB;;EAEA;EACA;;EAGA,MAAMC,KAAK,GAAGtB,GAAG,CAACD,WAAW,EAAE,CAAC;EAGhC,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAAC6B,KAAK,EAAEC,QAAQ,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACtC;;EAGAD,SAAS,CAAC,MAAM;IACf,MAAMoB,GAAG,GAAGjB,OAAO,EAAE,CAACkB,WAAW,CAACD,GAAG;IACrCW,QAAQ,CAAC,SAAS,CAAC;IACnBxB,GAAG,CAACC,KAAK,CAACmB,KAAK,EAAG,YAAWP,GAAI,aAAY,CAAC,CAAC,CAC7CY,IAAI,CAAEC,QAAQ,IAAK;MACnB,IAAIA,QAAQ,CAACC,GAAG,EAAE,KAAK,IAAI,EAAE;QAC5BH,QAAQ,CAAC,aAAa,CAAC;QACvBI,QAAQ,CAACF,QAAQ,CAACC,GAAG,EAAE,CAACf,KAAK,CAAC;MAC/B,CAAC,MAAM;QACNY,QAAQ,CAAC,SAAS,CAAC;MACpB;IACD,CAAC,CAAC,CACDK,KAAK,CAAEC,GAAG,IAAK;MACfd,OAAO,CAACK,KAAK,CAAC,QAAQ,EAAES,GAAG,CAAC;MAC5BN,QAAQ,CAAC,OAAO,CAAC;MACjBF,QAAQ,CAACQ,GAAG,CAAC;IACd,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC,CAAC;;EAEP,IAAIP,KAAK,KAAK,OAAO,EAAE;IACtB,oBAAQ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAY;EACrB,CAAC,MAAM;IACN,IAAIA,KAAK,KAAK,aAAa,EAAE;MAC5B,oBAAQ;QAAA,qEAA0DX,KAAK;MAAA;QAAA;QAAA;QAAA;MAAA,QAAK;IAC7E,CAAC,MAAM,CAEP;EACD;EACCmB,MAAM,GAACC,OAAO,GAACC,IAAI,GAACC,IAAI;AAM1B;AAAC,GApDQhB,IAAI;AAAA,KAAJA,IAAI;AAsDb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}